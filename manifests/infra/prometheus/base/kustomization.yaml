apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: monitoring
resources:
- https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/v0.52.1/bundle.yaml
- https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/0a5b89954a2c6d2ced4ca79c2a24bd094e7c9247/manifests/prometheus-serviceAccount.yaml
- https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/0a5b89954a2c6d2ced4ca79c2a24bd094e7c9247/manifests/prometheus-clusterRole.yaml
- https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/0a5b89954a2c6d2ced4ca79c2a24bd094e7c9247/manifests/prometheus-clusterRoleBinding.yaml
- https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/0a5b89954a2c6d2ced4ca79c2a24bd094e7c9247/manifests/prometheus-prometheus.yaml
- https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/0a5b89954a2c6d2ced4ca79c2a24bd094e7c9247/manifests/prometheus-service.yaml
- prometheus-clusterrole.yaml # 本当は同じようにリモートから取得したいが、ClusterRoleがないのでしょうがなく手元で管理している
- https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/a9054030d7768c78ea65d74f70bb1f60350002e8/manifests/node-exporter-serviceMonitor.yaml
- https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/a9054030d7768c78ea65d74f70bb1f60350002e8/manifests/node-exporter-serviceAccount.yaml
- https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/a9054030d7768c78ea65d74f70bb1f60350002e8/manifests/node-exporter-clusterRole.yaml
- https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/a9054030d7768c78ea65d74f70bb1f60350002e8/manifests/node-exporter-clusterRoleBinding.yaml
- https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/a9054030d7768c78ea65d74f70bb1f60350002e8/manifests/node-exporter-daemonset.yaml
- https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/a9054030d7768c78ea65d74f70bb1f60350002e8/manifests/node-exporter-service.yaml
- monitor.yaml
- alertmanager.yaml
- alert-rules.yaml
patchesStrategicMerge:
- prometheus-crd.yaml
